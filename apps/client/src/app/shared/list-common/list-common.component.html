<div class="p-4">
  <div class="pb-3 px-2"
       *ngIf="config?.hideSearch !== true">
    <div class="subnav-search">
      <!-- search input -->
      <!-- TODO: can't get the icon to work??-->
      <!-- <octicon octicon="search"
               class="subnav-search-icon"></octicon> -->
      <input class="form-control subnav-search-input"
             type="text"
             name="search"
             placeholder="Search"
             aria-label="Search"
             [ngModel]="search"
             (ngModelChange)="searchChange.emit($event)" />
    </div>
    <!-- TODO: add search button -->
  </div>
  <!-- TODO: add filtering and search -->
  <div class="pb-2 px-2">
    <div class="Box">
      <div class="Box-header"
           *ngIf="title">
        <h1 class="Box-title">
          {{title}}
        </h1>
      </div>
      <ng-container *ngIf="loading else routeItemsContent">
        <div class="d-flex flex-row">
          <div class="AnimatedEllipsis">loading</div>
        </div>
      </ng-container>
      <ng-template #routeItemsContent>
        <ng-container *ngIf="routeItems?.length === 0">
          <div class="blankslate">
            <h3 class="mb-1">Nothing for this route!</h3>
            <p>This is probably a bug, or there really is no content. Which would be weird</p>
          </div>
        </ng-container>
        <ul>
          <ng-container *ngFor="let route of routeItems">
            <!-- TODO: migrate into its own component -->
            <a [routerLink]="route.route"
               class="Link--primary">
              <li class="Box-row">
                <div flex-row>
                  <div>
                    {{route.title}}
                  </div>
                  <div [title]="route.date | date: 'medium'">
                    {{route.date | date:'shortDate'}}
                  </div>
                </div>
                <div>
                  {{route.description}}
                </div>
              </li>
            </a>
          </ng-container>
        </ul>
      </ng-template>
    </div>
  </div>
</div>
